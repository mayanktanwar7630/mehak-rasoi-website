<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mehak Rasoi</title>

<style>
body {
    margin: 0;
    font-family: Arial;
    background: #020617;
    color: white;
}

/* Navbar */
.navbar {
    display: flex;
    justify-content: space-between;
    padding: 15px;
    background: #020617;
}

.logo { color: #22c55e; font-size: 22px; font-weight: bold; }

.right { display: flex; gap: 10px; align-items: center; }

button {
    padding: 8px 12px;
    border: none;
    border-radius: 10px;
    background: #22c55e;
}

/* Pages */
.page { display: none; padding: 20px; }
.active { display: block; }

/* Grid */
.grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.card {
    background: #0f172a;
    padding: 15px;
    border-radius: 10px;
}

/* Cart box */
.cart-box {
    background: #0f172a;
    padding: 15px;
    margin: 10px 0;
    border-radius: 10px;
}
</style>
</head>

<body>

<!-- Navbar -->
<div class="navbar">
    <div class="logo" onclick="showPage('home')">Mehak Rasoi</div>

    <div class="right">
        <button onclick="showPage('shop')">Shop</button>
        <button onclick="showPage('cartPage')">Cart (<span id="cartCount">0</span>)</button>
        <button onclick="openLogin()">Login</button>
    </div>
</div>

<!-- HOME -->
<div id="home" class="page active">
    <h2>Welcome to Mehak Rasoi</h2>
    <p>Your one-stop shop for groceries, food, dairy, snacks and daily essentials.</p>
    <button onclick="showPage('shop')">Go to Shop</button>
</div>

<!-- SHOP -->
<div id="shop" class="page">

    <input id="search" placeholder="Search..." style="width:100%;padding:10px;margin-bottom:10px">

    <div>
        <button onclick="filterCategory('all')">All</button>
        <button onclick="filterCategory('dairy')">Dairy</button>
        <button onclick="filterCategory('grocery')">Grocery</button>
        <button onclick="filterCategory('snacks')">Snacks</button>
        <button onclick="filterCategory('food')">Food</button>
    </div>

    <div id="products" class="grid"></div>
</div>

<!-- PRODUCT DETAIL -->
<div id="detail" class="page">
    <h2 id="detailName"></h2>
    <p id="detailPrice"></p>
    <button onclick="addToCart(currentProduct)">Add to Cart</button>
    <button onclick="showPage('shop')">Back</button>
</div>

<!-- CART PAGE -->
<div id="cartPage" class="page">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <h3>Total: ₹<span id="totalPrice">0</span></h3>
</div>

<!-- LOGIN -->
<div id="loginBox" style="display:none;position:fixed;top:0;width:100%;height:100%;background:#000000cc;justify-content:center;align-items:center;">
    <div style="background:#0f172a;padding:20px;border-radius:10px;width:300px;text-align:center;">
        <h2>Login</h2>
        <input id="userInput" placeholder="Email/Phone" style="width:100%;padding:10px;margin:10px 0;">
        <button onclick="sendOTP()">Send OTP</button>

        <div id="otpBox" style="display:none;">
            <input id="otpInput" placeholder="OTP" style="width:100%;padding:10px;margin:10px 0;">
            <button onclick="verifyOTP()">Verify</button>
        </div>

        <button onclick="closeLogin()">Close</button>
    </div>
</div>

<script>

// DATA
let products = [
{name:"Verka Milk",cat:"dairy",price:60},
{name:"Amul Milk",cat:"dairy",price:65},
{name:"Butter",cat:"dairy",price:50},
{name:"Paneer",cat:"dairy",price:90},

{name:"Rice",cat:"grocery",price:150},
{name:"Oil",cat:"grocery",price:120},
{name:"Salt",cat:"grocery",price:20},

{name:"Maggi",cat:"snacks",price:15},
{name:"Chips",cat:"snacks",price:20},

{name:"Thali",cat:"food",price:120},
{name:"Dal",cat:"food",price:80}
];

let cart = [];
let currentProduct = null;

// PAGE SWITCH
function showPage(id){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// SHOW PRODUCTS
function showProducts(list){
    let html="";
    list.forEach((p,i)=>{
        html+=`<div class="card" onclick="openDetail(${i})">
        <h4>${p.name}</h4>
        <p>₹${p.price}</p>
        </div>`;
    });
    document.getElementById("products").innerHTML=html;
}

showProducts(products);

// SEARCH
document.getElementById("search").addEventListener("input",function(){
    let v=this.value.toLowerCase();
    showProducts(products.filter(p=>p.name.toLowerCase().includes(v)));
});

// FILTER
function filterCategory(cat){
    if(cat==="all") showProducts(products);
    else showProducts(products.filter(p=>p.cat===cat));
}

// DETAIL
function openDetail(i){
    currentProduct = products[i];
    document.getElementById("detailName").innerText=currentProduct.name;
    document.getElementById("detailPrice").innerText="₹"+currentProduct.price;
    showPage("detail");
}

// CART
function addToCart(p){
    cart.push(p);
    document.getElementById("cartCount").innerText=cart.length;
}

// CART PAGE
function showCart(){
    let html="";
    let total=0;
    cart.forEach(p=>{
        html+=`<div class="cart-box">${p.name} - ₹${p.price}</div>`;
        total+=p.price;
    });
    document.getElementById("cartItems").innerHTML=html;
    document.getElementById("totalPrice").innerText=total;
}

// auto update cart page
document.querySelector("[onclick=\"showPage('cartPage')\"]").addEventListener("click",showCart);

// LOGIN + OTP
let otp="";
function openLogin(){document.getElementById("loginBox").style.display="flex";}
function closeLogin(){document.getElementById("loginBox").style.display="none";}
function sendOTP(){
    otp=Math.floor(1000+Math.random()*9000);
    alert("OTP: "+otp);
    document.getElementById("otpBox").style.display="block";
}
function verifyOTP(){
    if(document.getElementById("otpInput").value==otp){
        alert("Login success");
        closeLogin();
    } else alert("Wrong OTP");
}

</script>

</body>
</html>
